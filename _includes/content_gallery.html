{% assign gallery = site.galleries | where: "page", page.url | first %}
{% if gallery %}
  <div class="clearfix"></div>
  <div class="article-gallery m-top-3">
    <h3>Galerie</h3>
    <ul class="article-gallery-list">
      {% assign photos = site.photos |
           where: "galleries", gallery.slug |
           sort: "position" %}
      {% for photo in photos %}
	<li class="article-gallery-item img-full">
	  {% comment %}
	  TODO Verify this actually works and author details donâ€™t
	  TODO have to be fetched manually from data like this:
	  {% assign author = site.data.authors[include.photo.author] %}
	  {% endcomment %}
	  {% capture photo_title %}{{ photo.author.name }} - {{ photo.title }}{% endcapture %}
	  <a href="{{ photo.image | relative_url }}"
	     data-rel="lightcase:gallery"
	     class="article-gallery-link"
	     title="{{ photo_title }}"
	     data-lc-title="{{ photo_title }}"
	     data-categories="{{ categories_slugs }}">
	     <img src="{{ photo.content_thumbnail | default: photo.image | relative_url }}"
		  class="object-fit-cover" data-object-fit="cover"
		  alt="{{ photo.description | markdownify | strip_html }}">
	  </a>
	</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}
